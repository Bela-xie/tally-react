(this["webpackJsonptally-react"]=this["webpackJsonptally-react"]||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){var a={"./details.svg":42,"./left.svg":43,"./money.svg":44,"./right.svg":45,"./small-label.svg":46,"./statistics.svg":47,"./tag.svg":48};function r(e){var n=l(e);return t(n)}function l(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=l,e.exports=r,r.id=41},42:function(e,n,t){"use strict";t.r(n);var a=t(6),r=t.n(a),l=t(7),c=t.n(l),o=new r.a({id:"details",use:"details-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="details"><defs><style></style></defs><path d="M42.667 42.667h938.666v938.666H42.667z" fill-opacity="0" /><path d="M678.4 42.667a106.667 106.667 0 01106.453 99.669l.214 6.997v280.363a21.333 21.333 0 01-42.326 3.84l-.341-3.84V149.333a64 64 0 00-57.856-63.701l-6.144-.299H251.733a64 64 0 00-63.701 57.856l-.299 6.144v640a64 64 0 0057.856 63.702l6.144.298h213.334a21.333 21.333 0 013.84 42.326l-3.84.341H251.733a106.667 106.667 0 01-106.453-99.67l-.213-6.997v-640A106.667 106.667 0 01244.736 42.88l6.997-.213H678.4z" /><path d="M725.333 512a234.667 234.667 0 110 469.333 234.667 234.667 0 010-469.333zm0 42.667a192 192 0 100 384 192 192 0 000-384zM621.781 213.333a21.333 21.333 0 013.84 42.326l-3.84.341H293.248a21.333 21.333 0 01-3.84-42.325l3.84-.342h328.533zM512 409.43a21.333 21.333 0 013.84 42.326l-3.84.341H293.248a21.333 21.333 0 01-3.84-42.325l3.84-.342H512z" /><path d="M725.333 627.712a21.333 21.333 0 0120.992 17.493l.342 3.84v88.918l69.376 71.082a21.333 21.333 0 012.133 27.264l-2.475 2.902a21.333 21.333 0 01-27.264 2.133l-2.901-2.475L704 755.371V649.045a21.333 21.333 0 0121.333-21.333z" /></symbol>'});c.a.add(o);n.default=o},43:function(e,n,t){"use strict";t.r(n);var a=t(6),r=t.n(a),l=t(7),c=t.n(l),o=new r.a({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="left"><defs><style></style></defs><path d="M672 96c8 0 16 3.2 22.4 9.6 12.8 12.8 12.8 32 0 44.8L332.8 512l361.6 361.6c12.8 12.8 12.8 32 0 44.8-12.8 12.8-32 12.8-44.8 0l-384-384c-12.8-12.8-12.8-32 0-44.8l384-384C656 99.2 664 96 672 96z" /></symbol>'});c.a.add(o);n.default=o},44:function(e,n,t){"use strict";t.r(n);var a=t(6),r=t.n(a),l=t(7),c=t.n(l),o=new r.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money"><defs><style></style></defs><path d="M592.03 440.871h110.788c20.205 0 36.746 16.463 36.746 36.589 0 20.086-16.541 36.588-36.746 36.588H540.436v109.686h162.382c20.205 0 36.746 16.463 36.746 36.588 0 20.087-16.541 36.55-36.746 36.55H540.436v106.023c0 19.928-15.99 36.234-35.565 36.234a35.998 35.998 0 01-35.525-36.234V696.87H335.44a36.746 36.746 0 01-36.785-36.549c0-20.086 16.541-36.588 36.745-36.588h133.908V514.048H335.4a36.746 36.746 0 01-36.745-36.588c0-20.086 16.541-36.589 36.745-36.589h96.571l-122.25-122.25a35.604 35.604 0 010-51.593 35.604 35.604 0 0151.594 0L512 417.792l150.725-150.686a35.604 35.604 0 0151.594 0 35.604 35.604 0 010 51.555l-122.29 122.25zM512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512zm0-950.863C270.612 73.137 73.137 270.612 73.137 512S270.612 950.863 512 950.863 950.863 753.388 950.863 512 753.388 73.137 512 73.137z" /></symbol>'});c.a.add(o);n.default=o},45:function(e,n,t){"use strict";t.r(n);var a=t(6),r=t.n(a),l=t(7),c=t.n(l),o=new r.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><defs><style></style></defs><path d="M352 928c-8 0-16-3.2-22.4-9.6-12.8-12.8-12.8-32 0-44.8L691.2 512 329.6 150.4c-12.8-12.8-12.8-32 0-44.8 12.8-12.8 32-12.8 44.8 0l384 384c12.8 12.8 12.8 32 0 44.8l-384 384C368 924.8 360 928 352 928z" /></symbol>'});c.a.add(o);n.default=o},46:function(e,n,t){"use strict";t.r(n);var a=t(6),r=t.n(a),l=t(7),c=t.n(l),o=new r.a({id:"small-label",use:"small-label-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="small-label"><defs><style></style></defs><path d="M71.934 1024l251.025-251.142 247.456 247.631a118.725 118.725 0 0021.475-14.394 126.741 126.741 0 000-179.346l-53.716-53.891L896.806 414.05l68.052 68.168a117.847 117.847 0 0021.533-14.335 126.741 126.741 0 000-179.346L735.483 37.102a126.917 126.917 0 00-179.345 0 124.46 124.46 0 00-14.336 21.416l68.11 68.17L251.279 485.67l-53.832-53.775a126.917 126.917 0 00-179.288 0 127.62 127.62 0 00-14.335 21.417l247.455 247.631L.254 952.086V1024z" /></symbol>'});c.a.add(o);n.default=o},47:function(e,n,t){"use strict";t.r(n);var a=t(6),r=t.n(a),l=t(7),c=t.n(l),o=new r.a({id:"statistics",use:"statistics-usage",viewBox:"0 0 1025 1024",content:'<symbol class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" id="statistics"><defs><style></style></defs><path d="M115.33 633.6a44.032 44.032 0 00-43.98 44.032v263.987a44.032 44.032 0 1088.012 0V677.581A44.032 44.032 0 00115.33 633.6zM367.592 352a44.032 44.032 0 00-43.98 44.032v545.536a44.032 44.032 0 1088.012 0V395.981A44.032 44.032 0 00367.592 352zm504.576 0a44.032 44.032 0 00-44.032 44.032v545.536a44.032 44.032 0 1088.013 0V395.981A44.032 44.032 0 00872.117 352zM619.906 563.2a44.032 44.032 0 00-44.032 44.032v334.336a44.032 44.032 0 1088.013 0V607.232a44.032 44.032 0 00-44.032-44.032zM942.926 0h-158.77a44.032 44.032 0 100 88.013h52.224l-211.559 209.1L410.344 82.587a43.418 43.418 0 00-61.747.307L13.852 417.792a43.827 43.827 0 1061.952 61.952l303.82-303.77 211.303 211.303 2.355 2.56a43.52 43.52 0 0022.938 12.288l.563.051 1.28.256c13.312 2.048 26.777-2.253 36.505-11.571l.666-.615 243.712-240.69v52.889a44.032 44.032 0 1087.962 0V44.032A44.032 44.032 0 00942.876.052z" /></symbol>'});c.a.add(o);n.default=o},48:function(e,n,t){"use strict";t.r(n);var a=t(6),r=t.n(a),l=t(7),c=t.n(l),o=new r.a({id:"tag",use:"tag-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="tag"><defs><style></style></defs><path d="M1015.81 433.877l-7.026-335.234v-1.167A94.567 94.567 0 00918.729 7.87h-1.167l-333.07-5.143a80.106 80.106 0 00-59.686 23.343L27.084 523.849a64.97 64.97 0 000 91.896L402.96 991.637a64.97 64.97 0 0091.883 0l497.652-497.624a80.007 80.007 0 0023.315-60.136zm-73.008 10.456L448.917 938.205 80.515 569.804 574.5 75.806a9.683 9.683 0 017.28-2.811h1.166l332.803 5.045a24.481 24.481 0 0122.851 22.725l7.027 335.038v1.166a9.64 9.64 0 01-2.825 7.364z" /><path d="M604.209 223.368a135.168 135.168 0 10191.129 0 135.322 135.322 0 00-191.13 0zm141.463 141.464a64.871 64.871 0 110-91.784 64.984 64.984 0 010 91.784z" /></symbol>'});c.a.add(o);n.default=o},54:function(e,n,t){"use strict";t.r(n);var a,r=t(0),l=t.n(r),c=t(27),o=t.n(c),i=(t(40),t(1)),u=t(8),s=t(4),d=t(2),f=t(19),m=t(28),p=t.n(m);try{(a=t(41)).keys().forEach(a)}catch(dn){console.log(dn)}var g=function(e){var n=e.name,t=(e.children,e.className),a=Object(f.a)(e,["name","children","className"]);return l.a.createElement("svg",Object.assign({className:p()(["icon",t])},a),n&&l.a.createElement("use",{xlinkHref:"#"+n}))};function b(){var e=Object(i.a)(["\n  background:white;\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n  > ul {\n    display: flex;\n    > li {\n      width: 33.3333%;\n      text-align: center;\n      a {\n        padding: 16px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        padding: 4px 0;\n        justify-content: center;\n        > .icon {\n          width: 24px;\n          height: 24px;\n        }\n        &.selected {\n          color: #5594cb;\n          > .icon {\n            fill: #5594cb;\n          }\n        }\n      }\n    }\n  }\n"]);return b=function(){return e},e}var h=d.a.nav(b()),v=function(){return l.a.createElement(h,null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(u.c,{to:"/details",activeClassName:"selected"},l.a.createElement(g,{name:"details"}),"\u660e\u7ec6")),l.a.createElement("li",null,l.a.createElement(u.c,{to:"/money",activeClassName:"selected"},l.a.createElement(g,{name:"money"}),"\u8bb0\u4e00\u7b14")),l.a.createElement("li",null,l.a.createElement(u.c,{to:"/statistics",activeClassName:"selected"},l.a.createElement(g,{name:"statistics"}),"\u7edf\u8ba1"))))};function x(){var e=Object(i.a)(["\n  flex-grow: 1;\n  overflow: auto;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"]);return x=function(){return e},e}function E(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n"]);return E=function(){return e},e}var y=d.a.div(E()),w=d.a.div(x()),O=function(e){var n=Object(r.useRef)(null);return Object(r.useEffect)((function(){setTimeout((function(){n.current&&(n.current.scrollTop=e.scrollTop)}),0)}),[e.scrollTop]),l.a.createElement(y,null,l.a.createElement(w,{ref:n,className:e.className},e.children),l.a.createElement(v,null))};O.defaultProps={scrollTop:0};var j=O,k=t(13),N=t(3),C=parseInt(localStorage.getItem("maxId")||"0"),z=function(){return C+=1,localStorage.setItem("maxId",JSON.stringify(C)),C},S=function(e,n){var t=Object(r.useRef)(0);Object(r.useEffect)((function(){t.current+=1})),Object(r.useEffect)((function(){t.current>1&&e()}),[e,n])},M=function(){var e=Object(r.useState)([]),n=Object(N.a)(e,2),t=n[0],a=n[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("tag")||"[]");0===e.length&&(e=[{id:z(),name:"\u8863"},{id:z(),name:"\u98df"},{id:z(),name:"\u4f4f"},{id:z(),name:"\u884c"}]),a(e)}),[]),S((function(){localStorage.setItem("tag",JSON.stringify(t))}),t);var l=Object(r.useCallback)((function(e){return t.filter((function(n){return n.id===e}))[0]}),[t]),c=Object(r.useCallback)((function(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].id===e){n=a;break}return n}),[t]),o=Object(r.useCallback)((function(e,n){var r=n.name;a(t.map((function(n){return n.id===e?{id:e,name:r}:n})))}),[t]),i=Object(r.useCallback)((function(e){a(t.filter((function(n){return n.id!==e})))}),[t]),u=Object(r.useCallback)((function(){var e=window.prompt("\u8bf7\u8f93\u5165\u4f60\u8981\u6dfb\u52a0\u7684\u6807\u7b7e\u540d");e&&a([].concat(Object(k.a)(t),[{id:z(),name:e}]))}),[t]),s=Object(r.useCallback)((function(e){var n=t.filter((function(n){return n.id===e}))[0];return n?n.name:""}),[t]);return{tags:t,getName:s,setTags:a,addTag:u,findTag:l,findTagIndex:c,updateTag:o,deleteTag:i}};function T(){var e=Object(i.a)(["\n  font-size: 18px;\n  border: none;\n  padding: 8px 12px;\n  border-radius: 4px;\n  color: white;\n  background: #89b8e0;\n"]);return T=function(){return e},e}var I=d.a.button(T());function L(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]);return L=function(){return e},e}var B=d.a.div(L());function V(){var e=Object(i.a)(["\n  height: 16px;\n"]);return V=function(){return e},e}var D=d.a.div(V());function H(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  line-height: 20px;\n  padding: 14px;\n  background: white;\n  margin-bottom:8px;\n  position:relative;\n  > .returnLink{\n      position:absolute;\n      left:16px;\n  }\n"]);return H=function(){return e},e}var Y=d.a.header(H()),A=function(e){var n=e.title,t=e.children;return l.a.createElement(Y,null,l.a.createElement("div",{className:"returnLink"},t),l.a.createElement("span",null,n),l.a.createElement("div",null))};function R(){var e=Object(i.a)(["\n  font-size: 16px;\n  background: white;\n  > li {\n    border-bottom: 1px solid #d5d5d9;\n    line-height: 20px;\n    margin: 0px 16px 0px 16px;\n    &:last-child{\n      border-bottom:none\n    }\n    > a {\n      padding: 12px 0 12px 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n"]);return R=function(){return e},e}function F(){var e=Object(i.a)(["\n     font-size:14px;\n     color:#89b8e0;\n"]);return F=function(){return e},e}var J=d.a.div(F()),P=d.a.ol(R());var K=function(){var e=M(),n=e.tags,t=e.addTag;return l.a.createElement(j,null,l.a.createElement(A,{title:"\u6807\u7b7e\u5217\u8868"},l.a.createElement(J,null,l.a.createElement(u.b,{to:"/money"},"\u8bb0\u4e00\u7b14"))),l.a.createElement(P,null,n.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(u.b,{to:"/tags/"+e.id},l.a.createElement("span",{className:"oneLine"},e.name),l.a.createElement(g,{name:"right"})))}))),l.a.createElement(B,null,l.a.createElement(D,null),l.a.createElement(D,null),l.a.createElement(I,{onClick:t},"\u65b0\u589e\u6807\u7b7e")))},U=t(14);function _(){var e=Object(i.a)(["\n  background: #ffffff;\n  padding: 12px 16px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n  > ol {\n    margin: 0 -12px;\n    > li {\n      background: #e2eaf1;\n      border-radius: 18px;\n      display: inline-block;\n      padding: 3px 18px;\n      font-size: 14px;\n      margin: 8px 12px;\n      &.selected {\n        background: #456c8f;\n        color: white;\n        .icon {\n          fill: white;\n        }\n      }\n      >.icon{\n        margin-right:6px;\n      }\n    }\n  }\n   button {\n    font-size: 12px;\n    background: none;\n    border: none;\n    padding: 2px 4px;\n    border-bottom: 1px solid #333;\n    color: #666;\n    margin-top: 8px;\n  }\n"]);return _=function(){return e},e}var W=d.a.section(_()),q=function(e){var n=M().tags,t=e.value;return l.a.createElement(W,null,l.a.createElement("ol",null,n.map((function(n){return l.a.createElement("li",{key:n.id,className:(a=n.id,t.indexOf(a)>=0?"selected":""),onClick:function(){return function(n){t.indexOf(n)>=0?e.onChange(t.filter((function(e){return e!==n}))):e.onChange([].concat(Object(k.a)(t),[n]))}(n.id)}},l.a.createElement(g,{name:"small-label"}),n.name);var a}))),l.a.createElement(u.c,{to:"/tags"},l.a.createElement("button",null,"\u7ba1\u7406\u6807\u7b7e")))};function G(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  > span {\n    margin-right: 16px;\n    white-space: nowrap;\n  }\n  > input {\n    display: block;\n    width: 100%;\n    height: 44px;\n    background: none;\n    border: none;\n  }\n"]);return G=function(){return e},e}var Q=d.a.label(G()),X=function(e){var n=e.label,t=(e.children,Object(f.a)(e,["label","children"]));return l.a.createElement(Q,null,l.a.createElement("span",null,n),l.a.createElement("input",t))};function Z(){var e=Object(i.a)(["\n  background: #f5f5f5;\n  padding: 14px 16px;\n  font-size: 14px;\n"]);return Z=function(){return e},e}var $=d.a.section(Z()),ee=function(e){return l.a.createElement($,null,l.a.createElement(X,{type:"text",label:"\u5907\u6ce8",placeholder:"\u5728\u8fd9\u91cc\u6dfb\u52a0\u5907\u6ce8",value:e.value,onChange:function(n){e.onChange(n.target.value)}}))};function ne(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  > .output {\n    background: white;\n    font-size: 36px;\n    line-height: 72px;\n    text-align: right;\n    padding: 0 16px;\n    box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, 0.25), inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\n  }\n  > .pad {\n    > button {\n      font-size: 18px;\n      float: left;\n      width: 25%;\n      height: 64px;\n      border: none;\n      &.ok {\n        height: 128px;\n        float: right;\n      }\n      &.zero {\n        width: 50%;\n      }\n      &:nth-child(1) {\n        background: #e2eaf1;\n      }\n      &:nth-child(2),\n      &:nth-child(5) {\n        background: #d4e0ea;\n      }\n      &:nth-child(3),\n      &:nth-child(6),\n      &:nth-child(9) {\n        background: #c6d6e4;\n      }\n      &:nth-child(4),\n      &:nth-child(7),\n      &:nth-child(10) {\n        background: #b9ccdd;\n      }\n      &:nth-child(8),\n      &:nth-child(11),\n      &:nth-child(13) {\n        background: #abc2d6;\n      }\n      &:nth-child(12) {\n        background: #8faec9;\n      }\n      &:nth-child(14) {\n        background: #9db8d0;\n      }\n    }\n  }\n"]);return ne=function(){return e},e}var te=d.a.section(ne()),ae=function(e){var n=Object(r.useState)(e.value.toString()),t=Object(N.a)(n,2),a=t[0],c=t[1],o=function(n){var t=n.target.textContent;null!==t&&("OK"!==t?function(n){var t;t=n.length>=16?n.slice(0,16):0===n.length?"0":n,c(t),e.onChange(parseFloat(t))}(function(e,n){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return"0"===n?e:n+e;case".":return n.indexOf(".")>=0?n:n+".";case"\u5220\u9664":return 1===n.length?"":n.slice(0,-1);case"\u6e05\u7a7a":default:return""}}(t,a)):e.onOk&&e.onOk())};return l.a.createElement(te,null,l.a.createElement("div",{className:"output"},a),l.a.createElement("div",{className:"pad clearfix",onClick:function(e){return o(e)}},l.a.createElement("button",null,"1"),l.a.createElement("button",null,"2"),l.a.createElement("button",null,"3"),l.a.createElement("button",null,"\u5220\u9664"),l.a.createElement("button",null,"4"),l.a.createElement("button",null,"5"),l.a.createElement("button",null,"6"),l.a.createElement("button",null,"\u6e05\u7a7a"),l.a.createElement("button",null,"7"),l.a.createElement("button",null,"8"),l.a.createElement("button",null,"9"),l.a.createElement("button",{className:"ok"},"OK"),l.a.createElement("button",{className:"zero"},"0"),l.a.createElement("button",{className:"dot"},".")))};function re(){var e=Object(i.a)(['\n  font-size: 24px;\n  > ul {\n    display: flex;\n    > li {\n      width: 50%;\n      text-align: center;\n      padding: 16px 0;\n      position: relative;\n      cursor:default;\n      &.selected::after {\n        content: "";\n        display: block;\n        height: 3px;\n        background: #5594cb;\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        left: 0;\n      }\n    }\n  }\n']);return re=function(){return e},e}var le=d.a.section(re()),ce=function(e){var n={"-":"\u652f\u51fa","+":"\u6536\u5165"},t=Object(r.useState)(["-","+"]),a=Object(N.a)(t,1)[0],c=e.value;return l.a.createElement(le,null,l.a.createElement("ul",null,a.map((function(t){return l.a.createElement("li",{className:c===t?"selected":"",key:t,onClick:function(){return e.onChange(t)}},n[t])}))))},oe=function(){var e=Object(r.useState)([]),n=Object(N.a)(e,2),t=n[0],a=n[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("records")||"[]");a(e)}),[]),S((function(){localStorage.setItem("records",JSON.stringify(t))}),t);return{records:t,addRecords:function(e){if(0===e.tagIds.length)return alert("\u8bf7\u9009\u62e9\u6807\u7b7e"),!1;if(e.amount<=0)return alert("\u8bf7\u8f93\u5165\u91d1\u989d"),!1;var n=Object(U.a)(Object(U.a)({},e),{},{createdAt:(new Date).toISOString()});return a([].concat(Object(k.a)(t),[n])),!0}}};function ie(){var e=Object(i.a)(["\n  background: #c4c4c4;\n"]);return ie=function(){return e},e}function ue(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return ue=function(){return e},e}var se=Object(d.a)(j)(ue()),de=d.a.div(ie()),fe={tagIds:[],note:"",category:"-",amount:0};var me=function(){var e=Object(r.useState)(fe),n=Object(N.a)(e,2),t=n[0],a=n[1],c=oe().addRecords,o=function(e){a(Object(U.a)(Object(U.a)({},t),e))};return l.a.createElement(se,{scrollTop:9999},l.a.createElement(q,{value:t.tagIds,onChange:function(e){return o({tagIds:e})}}),l.a.createElement(ee,{value:t.note,onChange:function(e){return o({note:e})}}),l.a.createElement(de,null,l.a.createElement(ce,{value:t.category,onChange:function(e){return o({category:e})}})),l.a.createElement(ae,{onOk:function(){c(t)&&(alert("\u4fdd\u5b58\u6210\u529f"),a(fe))},value:t.amount,onChange:function(e){return o({amount:e})}}))},pe=t(32),ge=t.n(pe);function be(){var e=Object(i.a)(["\n  font-size: 14px;\n  color: rgba(24, 22, 22, 0.41);\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  white-space: nowrap;\n  > a {\n    font-size: 18px;\n    color: #5594cb;\n  }\n"]);return be=function(){return e},e}function he(){var e=Object(i.a)(["\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n"]);return he=function(){return e},e}function ve(){var e=Object(i.a)(["\n  background: white;\n  li {\n    &.selected {\n      background: #5594cb;\n    }\n  }\n"]);return ve=function(){return e},e}function xe(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  background: white;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n  > .note {\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n  }\n"]);return xe=function(){return e},e}var Ee=d.a.div(xe()),ye=d.a.div(ve()),we=d.a.h3(he()),Oe=d.a.p(be());var je=function(){var e=Object(r.useState)("-"),n=Object(N.a)(e,2),t=n[0],a=n[1],c=M().getName,o=oe().records.filter((function(e){return e.category===t})),i={};o.forEach((function(e){var n=ge()(e.createdAt).format("YYYY\u5e74MM\u6708DD\u65e5");n in i||(i[n]=[]),i[n].push(e)}));var s=Object.entries(i).sort((function(e,n){return e[0]>=n[0]?-1:1})),d=function(){return l.a.createElement(l.a.Fragment,null,s.map((function(e){var n=Object(N.a)(e,2),t=n[0],a=n[1];return l.a.createElement("div",{key:t},l.a.createElement(we,null,t),l.a.createElement("div",null,a.map((function(e){return l.a.createElement(Ee,{key:e.createdAt},l.a.createElement("div",{className:"tags"},e.tagIds.map((function(e){return l.a.createElement("span",{key:e},c(e))})).reduce((function(e,n,t,a){return e.concat(t<a.length-1?[n,"\uff0c"]:[n])}),[])),e.note&&l.a.createElement("div",{className:"note"},e.note),l.a.createElement("div",{className:"amount"},"\uffe5",e.amount))}))))})))};return l.a.createElement(j,null,l.a.createElement(ye,null,l.a.createElement(ce,{value:t,onChange:function(e){return a(e)}})),0===s.length?l.a.createElement(Oe,null,"\u5f53\u524d\u6ca1\u6709\u8bb0\u5f55\uff0c\u5feb\u53bb",l.a.createElement(u.c,{to:"/money"},"\u8bb0\u4e00\u7b14"),"\u5427"):l.a.createElement(d,null))};function ke(){var e=Object(i.a)(["\nbackground: #f5f5f5;\nheight: 24px;\ndisplay: flex;\n> li{\n    width: 40px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    &.selected{\n        background: #89b8e0;\n    }\n}\n"]);return ke=function(){return e},e}var Ne=d.a.ul(ke()),Ce=[{value:"month",text:"\u6708"},{value:"year",text:"\u5e74"}],ze=function(e){var n=e.value,t=e.onChange;return l.a.createElement(Ne,null,Ce.length&&Ce.map((function(e){return l.a.createElement("li",{key:e.value,className:"".concat(n===e.value?"selected":""),onClick:function(){!function(e){t(e)}(e.value)}},e.text)})))};function Se(){var e=Object(i.a)(["\nheight: 20px;\ndisplay: flex;\n> li{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color:#999;\n    margin-right: 10px;\n    > button{\n        width: 40px;\n        height:100%;       \n        border:none;\n        margin-right:10px;\n        border-radius: 5%;\n        background: #fff;\n    }\n    &.selected{\n        color:#89b8e0;\n        button{\n            background: #89b8e0;\n        }\n    }\n}\n"]);return Se=function(){return e},e}var Me=d.a.ul(Se()),Te=[{value:"-",text:"\u652f\u51fa"},{value:"+",text:"\u6536\u5165"}],Ie=function(e){var n=e.value,t=e.onChange;return l.a.createElement(Me,null,Te.length&&Te.map((function(e){return l.a.createElement("li",{key:e.value,className:"".concat(n===e.value?"selected":""),onClick:function(){!function(e){t(e)}(e.value)}},l.a.createElement("button",null),l.a.createElement("span",null,e.text))})))},Le=t(33);function Be(){var e=Object(i.a)(["\n.empty{\n  position:absolute;\n  top:50%;\n  left:50%;\n  transform: translate(-50%, -50%);\n}\n.chart {\n    width: 100%;\n    height: 200px;\n  }}\n  .detailList {\n    margin-top: 30px;\n  }\n  .detailItem {\n    border-bottom: 1px #f6e3e3 solid;\n    padding: 10px 20px;\n    .proportion {\n      font-weight: bold;\n      display: inline-block;\n      width: 140px;\n    }\n    progress {\n      -webkit-appearance: none;\n    }\n    progress::-webkit-progress-value {\n      height: 5px;\n      background-color: #5594cb;\n    }\n    progress::-webkit-progress-bar {\n      background-color: transparent;\n    }\n    .amount {\n      font-size: 10px;\n      color: #9d9393;\n    }\n  }\n  .empty {\n    text-align: center;\n    color: #c7c2c2;\n    font-size: 20px;\n  }\n"]);return Be=function(){return e},e}var Ve=d.a.div(Be()),De=function(e){var n=e.source,t=Object(r.useRef)(null),a=Object(r.useRef)(null),c=Object(r.useRef)(!1);Object(r.useEffect)((function(){if(t.current&&!c.current&&(a.current=Le.a(t.current,"light"),c.current=!0),t.current)if(0===n.length)t.current.style.visibility="hidden";else{t.current.style.visibility="visible";var e={dataset:{source:n},series:{type:"pie",radius:60,center:"50%"}};a.current.setOption(e)}}),[n]);var o=function(e){var n=0;return e&&(n=parseFloat(e.substring(0,e.length-1))),n},i=function(){return l.a.createElement("ul",{className:"detailList"},n.map((function(e){return l.a.createElement("li",{className:"detailItem",key:e.tagName},l.a.createElement("span",{className:"proportion"},"".concat(e.tagName,"\uff1a").concat(e.proportion)),l.a.createElement("progress",{max:"100",value:o(e.proportion)}),l.a.createElement("p",{className:"amount"},"\u652f\u51fa\u91d1\u989d\uff1a",e.count))})))};return l.a.createElement(Ve,null,l.a.createElement("div",{className:"chart",id:"chart",ref:t}),0===n.length?l.a.createElement("p",{className:"empty"},"\u5f53\u524d\u6570\u636e\u4e3a\u7a7a"):l.a.createElement(i,null))};function He(){var e=Object(i.a)(["\n  width: 45%;\n  position: relative;\n  height: 30px;\n  border-top: 1px solid #5594cb;\n  border-bottom: 1px solid #5594cb;\n  display: flex;\n  justify-content: center;\n  > .list {\n      position: absolute;\n      width: 100%;\n    li {\n          height: 30px;\n          line-height: 30px;\n          text-align: center;\n      }\n  }\n"]);return He=function(){return e},e}for(var Ye=d.a.div(He()),Ae=function(e){var n=e.currentValue,t=e.dataSource,a=e.setCurrentValue,c=Object(r.useState)(0),o=Object(N.a)(c,2),i=o[0],u=o[1],s=Object(r.useRef)(0);Object(r.useEffect)((function(){var e=t.indexOf(n);u(-30*e)}),[n,t]);return l.a.createElement(Ye,null,l.a.createElement("ul",{style:{top:"".concat(i,"px")},className:"list",onTouchStart:function(e){s.current=e.changedTouches[0].pageY},onTouchMove:function(e){var n=30*-(t.length-1)-50,a=i+(e.changedTouches[0].pageY-s.current)/10;u(a=(a=a<n?n:a)>50?50:a)},onTouchEnd:function(e){if(i>0)u(0);else{var n=-Math.round(i/30);n>=t.length&&(n=t.length-1),u(30*-n),a(t[n])}}},t.map((function(e){return l.a.createElement("li",{key:e},e)}))))},Re=[],Fe=[],Je=(new Date).getFullYear(),Pe=1900;Pe<=Je;Pe++)Re.push(Pe);for(var Ke=1;Ke<=12;Ke++)Fe.push(Ke);function Ue(){var e=Object(i.a)(["\n    width: 100%;\n    max-width: 500px;\n    background-color: white;\n    position: absolute;\n    z-index: 1;\n    bottom: 0px;\n    > .top {\n      display: flex;\n      justify-content: space-between;\n      padding: 15px 20px;\n      > .now {\n        color: #ee6b8c;\n      }\n      > .chosen {\n        font-size: 18px;\n      }\n      > .ok {\n        color: #5594cb;\n      }\n    }\n    > .main {\n      height: 150px;\n      display: flex;\n      align-items: center;\n      justify-content: space-around;\n      overflow: hidden;\n      max-width: 100%;\n  }\n"]);return Ue=function(){return e},e}var _e=d.a.div(Ue()),We=function(e){var n=e.dateRange,t=e.year,a=e.setYear,r=e.month,c=e.setMonth,o=e.closePanel;return l.a.createElement(_e,null,l.a.createElement("div",{className:"top"},l.a.createElement("span",{className:"now",onClick:function(){a((new Date).getFullYear()),c((new Date).getMonth()+1)}},"\u5f53\u524d"),l.a.createElement("em",{className:"chosen"},"year"===n?l.a.createElement("span",null,t):l.a.createElement("span",null,"".concat(t," - ").concat(r))),l.a.createElement("span",{className:"ok",onClick:function(){return o(!1)}},"\u786e\u5b9a")),l.a.createElement("div",{className:"main"},l.a.createElement(Ae,{currentValue:t,setCurrentValue:a,dataSource:Re}),"month"===n?l.a.createElement(Ae,{currentValue:r,setCurrentValue:c,dataSource:Fe}):""))};function qe(){var e=Object(i.a)(["\n    background-color: black;\n    filter: opacity(50%);\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    max-width: 500px;\n    top: 0;\n"]);return qe=function(){return e},e}var Ge=d.a.div(qe()),Qe=function(e){var n=e.hideCover;return l.a.createElement(Ge,{onClick:function(){n(!1)}})},Xe=function e(n){if(n.length<=1)return n;for(var t=Math.floor(n.length/2),a=[],r=[],l=n.splice(t,1)[0],c=0;c<n.length;c++)n[c].count>l.count?a.push(n[c]):r.push(n[c]);var o=e(a),i=e(r);return o.concat(l,i)};function Ze(){var e=Object(i.a)(["\n> .chartTitle{\n    display:flex;\n    align-items:center;\n    justify-content: space-around;\n    margin-top: 20px;\n  }\n}\n"]);return Ze=function(){return e},e}function $e(){var e=Object(i.a)(["\nwidth: 100%;\nbackground-color: #fff;\npadding: 20px 30px;\ndisplay: flex;\njustify-content: space-between;\n> .chooseTime{\n    color: #5594cb;\n    font-style:normal;\n}\n"]);return $e=function(){return e},e}var en=d.a.div($e()),nn=d.a.div(Ze()),tn=function(){var e=Object(r.useState)("month"),n=Object(N.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)("-"),o=Object(N.a)(c,2),i=o[0],u=o[1],s=Object(r.useState)((new Date).getFullYear()),d=Object(N.a)(s,2),f=d[0],m=d[1],p=Object(r.useState)((new Date).getMonth()+1),g=Object(N.a)(p,2),b=g[0],h=g[1],v=Object(r.useState)(!1),x=Object(N.a)(v,2),E=x[0],y=x[1],w=Object(r.useState)([]),O=Object(N.a)(w,2),k=O[0],C=O[1],z=oe().records,S=M().getName,T=Object(r.useCallback)((function(e,n,t,a){for(var r=function(r,l,c,o){if("month"===e&&n===r&&t===l&&a===c)o();else{if("year"!==e||n!==r||a!==c)return;o()}},l=[],c=function(e){var n=z[e],t=n.tagIds,a=n.createdAt,c=n.category,o=new Date(a).getFullYear(),i=new Date(a).getMonth()+1,u=t.map((function(e){return S(e)})).join(","),s=function(e,n){for(var t=0;t<n.length;t++)if(n[t].tagName===e)return t;return-1}(u,l);r(o,i,c,-1===s?function(){var n={tagName:u,count:z[e].amount,proportion:null};l.push(n)}:function(){l[s].count+=z[e].amount})},o=0;o<z.length;o++)c(o);return Xe(function(e){for(var n=0,t=0;t<e.length;t++)n+=e[t].count;for(var a=0;a<e.length;a++){var r=e[a].count/n;e[a].proportion=Math.round(1e4*r)/100+"%"}return e}(l))}),[z,S]);return Object(r.useEffect)((function(){var e=T(t,f,b,i);C(e)}),[t,f,b,i,T]),l.a.createElement(j,null,l.a.createElement(en,null,l.a.createElement(ze,{value:t,onChange:a}),l.a.createElement("em",{className:"chooseTime",onClick:function(){y(!0)}},l.a.createElement("span",null,f),l.a.createElement("span",null,"\u5e74"),l.a.createElement("span",null,b),l.a.createElement("span",null,"\u6708"),l.a.createElement("span",null,"\u25bc"))),l.a.createElement(nn,null,l.a.createElement("div",{className:"chartTitle"},"month"===t?l.a.createElement("span",null,"\u6708\u5ea6\u5206\u6790"):"","year"===t?l.a.createElement("span",null,"\u5e74\u5ea6\u5206\u6790"):"",l.a.createElement(Ie,{value:i,onChange:u})),l.a.createElement(De,{source:k})),E?l.a.createElement(We,{closePanel:y,dateRange:t,year:f,month:b,setYear:m,setMonth:h}):"",E?l.a.createElement(Qe,{hideCover:y}):"")};var an=function(){return l.a.createElement("h2",null,"\u9875\u9762\u4e0d\u5b58\u5728")};function rn(){var e=Object(i.a)(["\n  background: white;\n  padding: 0 16px;\n"]);return rn=function(){return e},e}var ln=d.a.div(rn()),cn=function(){var e=Object(s.h)().id,n=M(),t=n.findTag,a=n.updateTag,r=n.deleteTag,c=t(parseInt(e)),o=Object(s.g)();return l.a.createElement(j,null,l.a.createElement(A,{title:"\u7f16\u8f91\u6807\u7b7e"},l.a.createElement(g,{name:"left",onClick:function(){o.goBack()}})),c?function(e){return l.a.createElement("div",null,l.a.createElement(ln,null,l.a.createElement(X,{label:"\u6807\u7b7e\u540d",value:e.name,onChange:function(n){return a(e.id,{name:n.target.value})}})),l.a.createElement("div",null,l.a.createElement(B,null,l.a.createElement(D,null),l.a.createElement(D,null),l.a.createElement(I,{onClick:function(){return function(e){r(e),setTimeout((function(){o.push("/tags")}))}(e.id)}},"\u5220\u9664\u6807\u7b7e"))))}(c):l.a.createElement(B,null,l.a.createElement(D,null),l.a.createElement(D,null),l.a.createElement("div",null,"\u6807\u7b7e\u4e0d\u5b58\u5728")))};function on(){var e=Object(i.a)(["\n  color: #333;\n"]);return on=function(){return e},e}var un=d.a.div(on());var sn=function(){return l.a.createElement(un,null,l.a.createElement(u.a,null,l.a.createElement(s.d,null,l.a.createElement(s.a,{exact:!0,from:"/",to:"/money"}),l.a.createElement(s.b,{exact:!0,path:"/tags"},l.a.createElement(K,null)),l.a.createElement(s.b,{exact:!0,path:"/tags/:id"},l.a.createElement(cn,null)),l.a.createElement(s.b,{exact:!0,path:"/details"},l.a.createElement(je,null)),l.a.createElement(s.b,{exact:!0,path:"/money"},l.a.createElement(me,null)),l.a.createElement(s.b,{exact:!0,path:"/statistics"},l.a.createElement(tn,null)),l.a.createElement(s.b,{path:"*"},l.a.createElement(an,null)))))};document.documentElement.clientWidth>762&&window.alert("\u4e3a\u786e\u4fdd\u4f7f\u7528\u6548\u679c\uff0c\u5efa\u8bae\u5728\u624b\u673a\u4e0a\u6d4f\u89c8\u4f7f\u7528"),o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(sn,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.00642013.chunk.js.map